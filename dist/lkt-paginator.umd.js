(function(t,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("vue"),require("lkt-http-client")):typeof define=="function"&&define.amd?define(["vue","lkt-http-client"],i):(t=typeof globalThis<"u"?globalThis:t||self,t.LktButton=i(t.Vue,t.LktHttpClient))})(this,function(t,i){"use strict";var u=Object.defineProperty;var m=(t,i,r)=>i in t?u(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r;var d=(t,i,r)=>(m(t,typeof i!="symbol"?i+"":i,r),r);class r{}d(r,"FIRST_BUTTON_NAME","First"),d(r,"PREV_BUTTON_NAME","Prev"),d(r,"NEXT_BUTTON_NAME","Next"),d(r,"LATEST_BUTTON_NAME","Latest");const f=t.defineComponent({emits:["update:modelValue","loading","results","error"],name:"LktPaginator",props:{modelValue:{type:Number,default:1},maxPage:{type:Number,default:1},resource:{type:String,default:""},palette:{type:String,default:""},slaveMode:{type:Boolean,default:!1},filters:{type:Object,default(){return{}}}},data(){return{Page:1,MaxPage:this.maxPage}},computed:{firstButtonName(){return r.FIRST_BUTTON_NAME},prevButtonName(){return r.PREV_BUTTON_NAME},nextButtonName(){return r.NEXT_BUTTON_NAME},latestButtonName(){return r.LATEST_BUTTON_NAME},previousPages(){let e=[],a=this.Page-1,l=a-5;l<0&&(l=0);for(let n=a;n>l;--n)e.push(n);return e=e.reverse(),e},nextPages(){let e=[],a=this.Page+5;a>this.MaxPage&&(a=this.MaxPage);for(let l=this.Page+1;l<=a;++l)e.push(l);return e},options(){let e=[];for(let a=1;a<=this.MaxPage;++a)e.push({id:a,text:a});return e},disabledNext(){return this.Page>=this.MaxPage},disabledPrev(){return this.Page<=1}},watch:{modelValue(e){this.Page=parseInt(e)},Page(){this.loadPage()},filters:{handler(e){parseInt(this.Page)!==1?this.Page=1:(this.Page=1,this.loadPage())},deep:!0}},methods:{loadPage(){let e={};typeof this.filters=="object"&&Object.keys(this.filters).length>0&&(e=JSON.parse(JSON.stringify(this.filters)));for(let l in e)(Array.isArray(e[l])||typeof e[l]=="object")&&(e[l]=JSON.stringify(e[l]));if(e.page=this.Page,this.$emit("update:modelValue",this.Page),this.$emit("loading"),this.slaveMode)return;let a=i.getHTTPResource(this.resource);i.httpCall(this.resource,e).then(l=>{let n=a.getLatestMaxPage();n>-1&&(this.MaxPage=n),this.$emit("results",l)}).catch(l=>{this.$emit("error",l)})},next(){++this.Page},latest(){this.Page=this.MaxPage},prev(){--this.Page},first(){this.Page=1},goTo(e){this.Page=e}},created(){console.log("paginator created!!"),!this.slaveMode&&this.loadPage()}}),P="",g=(e,a)=>{const l=e.__vccOpts||e;for(const[n,p]of a)l[n]=p;return l},N=["data-palette"];function c(e,a,l,n,p,B){const s=t.resolveComponent("lkt-button");return t.openBlock(),t.createElementBlock("div",{"data-lkt":"paginator","data-palette":e.palette},[t.createVNode(s,{onClick:e.first,disabled:e.disabledPrev,"data-role":"first",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(e.firstButtonName),1)]),_:1},8,["onClick","disabled","palette"]),t.createVNode(s,{onClick:e.prev,disabled:e.disabledPrev,"data-role":"prev",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(e.prevButtonName),1)]),_:1},8,["onClick","disabled","palette"]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.previousPages,o=>(t.openBlock(),t.createBlock(s,{key:o,onClick:()=>{e.goTo(o)},"data-role":"page",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(o),1)]),_:2},1032,["onClick","palette"]))),128)),t.createVNode(s,{disabled:"","data-role":"page",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(e.Page),1)]),_:1},8,["palette"]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.nextPages,o=>(t.openBlock(),t.createBlock(s,{key:o,onClick:()=>{e.goTo(o)},"data-role":"page",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(o),1)]),_:2},1032,["onClick","palette"]))),128)),t.createVNode(s,{onClick:e.next,disabled:e.disabledNext,"data-role":"next",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(e.nextButtonName),1)]),_:1},8,["onClick","disabled","palette"]),t.createVNode(s,{onClick:e.latest,disabled:e.disabledNext,"data-role":"latest",palette:e.palette},{default:t.withCtx(()=>[t.createElementVNode("span",null,t.toDisplayString(e.latestButtonName),1)]),_:1},8,["onClick","disabled","palette"])],8,N)}const h=g(f,[["render",c],["__scopeId","data-v-4f86b5ab"]]);return{install:(e,a)=>{e.component("lkt-paginator",h),a&&a.firstButtonName&&(r.FIRST_BUTTON_NAME=a.firstButtonName),a&&a.prevButtonName&&(r.PREV_BUTTON_NAME=a.prevButtonName),a&&a.nextButtonName&&(r.NEXT_BUTTON_NAME=a.nextButtonName),a&&a.latestButtonName&&(r.LATEST_BUTTON_NAME=a.latestButtonName)}}});
